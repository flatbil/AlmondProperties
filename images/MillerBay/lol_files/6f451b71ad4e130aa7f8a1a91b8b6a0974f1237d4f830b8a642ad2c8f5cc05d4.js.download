!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=169)}({169:function(e,t,n){"use strict";n.r(t);n(20);var o=n(22),r=n.n(o);function i(e,t){return"storage."+e+"_"+t}function a(){return w.IsAvailable()}var s,u,c,l,f,m,d,g,b,p,I,x,v,h,w={IsAvailable:function(){return function(){var e="roblox";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}()},Subscribe:function(t,e,n){var o=i(t,e);r()(window).unbind(o).bind(o,function(e){e.originalEvent.key===t&&n(e.originalEvent.newValue)})},Unsubscribe:function(e,t){var n=i(e,t);r()(window).unbind(n)},Publish:function(e,t){localStorage.removeItem(e),localStorage.setItem(e,t)}},S="Roblox.CrossTabCommunication.Kingmaker",y={masterId:S+".masterId",electionInProgress:S+".electionInProgress",masterIdRequest:S+".masterIdRequest",masterIdResponse:S+".masterIdResponse",masterLastResponseTime:S+".masterLastResponseTime"},R="q",P=[],T=[];function M(e){for(var t=T.slice(0),n=0;n<t.length;n++)try{t[n](e)}catch(e){}}function C(){return Date.now().toString()}function D(){M("Master is:"+u)}function O(e){M("Announcing: Is this tab the master? "+e);for(var t=P.slice(0),n=0;n<t.length;n++)try{t[n](e)}catch(e){M("Error running subscribed election result handler: "+JSON.stringify(e))}}function j(){M("Declaring myself as the master"+u),u=v,c=!0,w.Publish(y.masterId,u),localStorage.removeItem(y.electionInProgress),O(!0),r()(window).unbind("unload."+S).bind("unload."+S,function(){localStorage.getItem(y.masterId)})}function E(){var e=localStorage.getItem(y.electionInProgress),t=parseInt(e);e&&Date.now()-t>b&&localStorage.removeItem(y.electionInProgress),window.setTimeout(E,b)}function k(){var e=localStorage.getItem(y.electionInProgress);u="",e?(M("Election already in progress"),window.setTimeout(function(){0===u.length?j():u!==v&&O(!1),D()},x)):(M("Election not in progress"),localStorage.setItem(y.electionInProgress,C()),0===u.length?j():u!==v&&O(!1),D())}function L(){M("Checking if Master still active"),!0===c||Date.now()-f<=m||(s="",w.Publish(y.masterIdRequest,R),window.setTimeout(function(){if(0===s.length){if(!0===c||Date.now()-f<=m)return void j();M("Master did not respond. Initiating election"),k()}else u!==s&&(O(!1),u=s,D())},I))}function _(){l&&clearTimeout(l),l=window.setTimeout(function(){!1===c?L():localStorage.setItem(y.masterLastResponseTime,C()),_()},p)}h=(new Date).getTime(),v="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(h+16*Math.random())%16|0;return h=Math.floor(h/16),("x"===e?t:3&t|8).toString(16)}),s="",c=!1,l=u=null,f=Date.now()-1e4,m=2500,d=2e4,g=Math.floor(100*Math.random()+1),b=500,p=2e3+g,I=1500+g,x=400+g,r()(function(){a()&&function(){var e=localStorage.getItem(y.masterId);M("Binding to events"),w.Subscribe(y.masterIdRequest,S,function(e){!0===c&&e===R&&(M("Query Received - Confirming Still Master"),w.Publish(y.masterIdResponse,v),localStorage.setItem(y.masterLastResponseTime,C()))}),w.Subscribe(y.masterId,S,function(e){if(e){M("Received Notice Of Master"),f=Date.now();var t=c;0==(c=(u=e)===v)&&t&&(O(!1),_()),!0!==c||t||j(),localStorage.removeItem(y.electionInProgress),D()}}),w.Subscribe(y.masterIdResponse,S,function(e){e?(M("Master Responded to Query"),f=Date.now(),s=e,_()):M("Master Responded to Query - no message")});var t=localStorage.getItem(y.masterLastResponseTime);f=t&&0!==t.length?parseInt(t):0,e?e===v?c=!0:0<f&&Date.now()-f>d?k():L():k(),window.setTimeout(function(){E()},b),_()}()});var A={IsAvailable:a,IsMasterTab:function(){return c},SubscribeToMasterChange:function(e){P.push(e)},AttachLogger:function(e){T.push(e)}};window.Roblox=window.Roblox||{},window.Roblox.CrossTabCommunication={PubSub:w.default,Kingmaker:A.default}},20:function(e,t){function i(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a(e){return e.split("/").pop().replace(".html","")}var n={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,t,o,r){return e.module(t,[]).run(["$templateCache",function(n){o&&o.keys().forEach(function(e){var t=i(a(e));n.put(t,o(e))}),r&&r.keys().forEach(function(e){var t=i(a(e));n.put(t,function(e){return e.replace(/<\/?script[^>]*>/gi,"")}(r(e)))})}])}};e.exports=n},22:function(e,t){e.exports=jQuery}});
//# sourceMappingURL=https://js.rbxcdn.com/d6bbe4ca9ab03c1440fe-crossTabCommunication.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("CrossTabCommunication");